import{Q as _}from"./QImg.1ff265ca.js";import{Q as l}from"./QSeparator.86f028f7.js";import{Q as h}from"./QSpace.223d3b45.js";import{N as y,F as q,a as p,H as r,I as x,J as d,ay as Q,aj as j,S as t,K as o,V as k,W as C,M as c,Y as S,X as B,T as n,Q as N}from"./index.4c7a0b32.js";import{Q as g}from"./QCard.2defdf32.js";import{Q as P}from"./QPage.939f3ee1.js";import"./use-dark.416bc079.js";const z={class:"container"},I={class:"row q-mb-lg-xl"},V={class:"col-12"},F=t("div",{class:"text-h4 text-weight-medium q-my-md"},"\u8CFC\u7269\u8ECA",-1),T={class:"col-12 col-lg-8 q-pr-none q-pr-lg-md"},U=t("div",{class:"text-h5 text-weight-medium"},"\u5546\u54C1\u8CC7\u8A0A",-1),$={class:"row"},A={class:"col-7 column q-ml-xs q-ml-lg-md"},D={class:"text-h6 over-2line"},E={class:"text-subtitle1 text-weight-medium"},H={class:"text-subtitle1 text-weight-medium over-1line"},J={class:"text-subtitle1 text-weight-medium"},K={class:"col column items-end"},L={class:"text-subtitle1 text-weight-medium"},M={class:"col-12 col-lg-4"},O={class:"row justify-between"},R=t("div",{class:"text-subtitle1 text-weight-medium"},"\u7E3D\u91D1\u984D",-1),W={class:"text-subtitle1 text-weight-regular"},X={class:"row justify-between"},Y=t("div",{class:"text-subtitle1 text-weight-medium"},"\u5546\u54C1\u91D1\u984D",-1),G={class:"text-subtitle1 text-weight-regular"},Z=t("div",{class:"row justify-between"},[t("div",{class:"text-subtitle1 text-weight-medium"},"\u904B\u8CBB"),t("div",{class:"text-subtitle1 text-weight-regular"},"80")],-1),tt={class:"row justify-between"},st=t("div",{class:"text-subtitle1 text-weight-medium"},"\u7E3D\u91D1\u984D",-1),et={class:"text-subtitle1 text-weight-regular"},mt={__name:"CartPage",setup(ot){const v=y(),i=q([]),w=p(()=>i.reduce((a,e)=>a+e.product.price*e.quantity,0)),u=p(()=>{const s=i.reduce((a,e)=>a+e.product.price*e.quantity,0);return s===0?0:s>=1500?s:s+80}),f=async s=>{await v.deleteCart({product:i[s].product._id,color:i[s].color,size:i[s].size}),m()},m=async()=>{try{const{data:s}=await Q.get("/users/cart");i.splice(0,i.length),i.push(...s.result)}catch(s){console.log(s),j.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}};return m(),(s,a)=>(r(),x(P,{class:"q-mb-xxxl"},{default:d(()=>[t("section",z,[t("div",I,[t("div",V,[o(_,{src:"https://i.imgur.com/RPNU5Ou.jpg",class:"pointer object-top",ratio:7/1}),F,o(l,{class:"q-my-sm"})]),t("div",T,[U,(r(!0),k(B,null,C(i,(e,b)=>(r(),x(g,{flat:"",class:"q-my-md",key:e._id},{default:d(()=>[t("div",$,[o(_,{class:"col-2 col-sm-3",src:e.product.image[0]},null,8,["src"]),t("div",A,[t("div",D,c(e.product.name),1),o(h),t("div",E,"\u5546\u54C1\u5C3A\u5BF8:"+c(e.size),1),t("div",H,"\u5546\u54C1\u984F\u8272:"+c(e.color),1),t("div",J,"\u6578\u91CF:"+c(e.quantity),1)]),t("div",K,[t("div",null,[o(S,{name:"fa-solid fa-x",size:"sm",class:"pointer",onClick:it=>f(b)},null,8,["onClick"])]),o(h),t("div",L,"NT$:"+c(e.product.price*e.quantity),1)])]),o(l,{class:"q-my-md"})]),_:2},1024))),128))]),t("div",M,[o(g,{flat:"",square:"",class:"column bg-grey-2 q-pa-md q-mb-md q-mt-sm"},{default:d(()=>[t("div",O,[R,t("div",W,c(n(u)),1)]),o(l,{class:"q-my-md"}),t("div",X,[Y,t("div",G,c(n(w)),1)]),Z,o(l,{class:"q-my-md"}),t("div",tt,[st,t("div",et,c(n(u)),1)])]),_:1}),o(N,{outline:"",color:"black",class:"full-width q-py-sm text-subtitle1 text-weight-medium",label:"\u5546\u54C1\u7D50\u5E33",to:"/place"})])])])]),_:1}))}};export{mt as default};
