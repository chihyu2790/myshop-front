import{Q as h}from"./QSpace.f180918e.js";import{F as x,N as g,P as b,H as v,I as y,J as e,ay as m,aj as n,S as t,K as s,T as _,Q as q,L as w}from"./index.b69f5e30.js";import{Q,a as k}from"./QTable.75973309.js";import{Q as C}from"./QPage.5ead44bd.js";import"./QSeparator.fd4e4744.js";import"./use-dark.91c2bc12.js";import"./QList.c616e8ac.js";import"./rtl.4b414a6d.js";import"./use-prevent-scroll.21ca26a7.js";import"./focus-manager.d6507951.js";import"./use-key-composition.9e51db7f.js";import"./format.2a3572e1.js";import"./uid.42677368.js";import"./QChip.2d120688.js";import"./QMenu.174e1b4c.js";import"./selection.192d2ea2.js";import"./use-model-toggle.8d9cf3b5.js";import"./use-timeout.ba6b5c7a.js";import"./QDialog.dd8c4de0.js";import"./use-form.e6e0fa2b.js";import"./QCheckbox.af53d65a.js";import"./option-sizes.3ba05eec.js";import"./use-fullscreen.98757d60.js";const B={class:"container"},N={class:"row q-mt-xl"},S={class:"col-2"},T=t("div",{class:"text-h6"},"\u5F8C\u53F0\u7BA1\u7406",-1),A=t("div",{class:"text-subtitle1 q-my-lg"},"\u4F7F\u7528\u8005\u7BA1\u7406",-1),V=t("div",{class:"text-subtitle1 q-my-lg"},"\u5546\u54C1\u7BA1\u7406",-1),P=t("div",{class:"text-subtitle1 q-my-lg"},"\u5E97\u92EA\u7BA1\u7406",-1),U=t("div",{class:"text-subtitle1 q-my-lg"},"\u8A02\u55AE\u7BA1\u7406",-1),$=t("div",{class:"text-subtitle1 q-my-lg"},"\u6D3B\u52D5\u7BA1\u7406",-1),j={class:"col-10"},E={class:"flex items-center text-center q-mb-lg"},F=t("div",{class:"text-h4 text-weight-medium"},"\u4F7F\u7528\u8005\u7BA1\u7406",-1),H=t("div",{class:"text-body1 q-mb-md"},"\u7BA1\u7406\u4F7F\u7528\u8005\u9801\u9762",-1),I={class:"column"},J=w("\u522A\u9664\u4F7F\u7528\u8005"),ut={__name:"UserAdmin",setup(K){const a=x([]),u=g(),{logout:c}=u,p=[{name:"account",align:"left",label:"account",field:"account"},{name:"_id",align:"left",label:"id",field:"_id"},{name:"name",align:"left",label:"name",field:"name"},{name:"email",align:"left",label:"email",field:"email"},{name:"edit",label:"\u5546\u54C1\u64CD\u4F5C",align:"left"}],f=async o=>{try{await m.delete("/users/"+o),await n.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),d()}catch(i){n.fire({icon:"error",title:"\u5931\u6557",text:i.isAxiosError&&i.response.data?i.response.data.message:"\u767C\u751F\u932F\u8AA4"})}},d=async()=>{try{const{data:o}=await m.get("/users/all");a.splice(0,a.length),a.push(...o.result)}catch{n.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}};return d(),(o,i)=>{const l=b("router-link");return v(),y(C,null,{default:e(()=>[t("section",B,[t("div",N,[t("div",S,[T,s(l,{to:"/admin/user"},{default:e(()=>[A]),_:1}),s(l,{to:"/admin/product"},{default:e(()=>[V]),_:1}),s(l,{to:"/admin/store"},{default:e(()=>[P]),_:1}),s(l,{to:"/admin/order"},{default:e(()=>[U]),_:1}),$,t("div",{class:"text-subtitle1 q-my-lg pointer",onClick:i[0]||(i[0]=(...r)=>_(c)&&_(c)(...r))},"\u767B\u51FA")]),t("div",j,[t("div",E,[F,s(h)]),H,s(k,{grid:o.$q.screen.xs,flat:"",bordered:"",rows:a,columns:p,"row-key":"name"},{"body-cell-edit":e(r=>[s(Q,{edit:r},{default:e(()=>[t("div",I,[s(q,{class:"q-px-sm",onClick:L=>f(r.row._id),outline:""},{default:e(()=>[J]),_:2},1032,["onClick"])])]),_:2},1032,["edit"])]),_:1},8,["grid","rows"])])])])]),_:1})}}};export{ut as default};
