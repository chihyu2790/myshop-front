import{Q as r}from"./QImg.f9af7805.js";import{Q as l}from"./QSeparator.a5f1724a.js";import{Q as h}from"./QSpace.c72392b0.js";import{N as y,F as q,a as p,H as d,I as g,J as n,ay as Q,aj as j,S as t,K as o,V as S,W as k,M as c,Y as C,X as B,T as u,Q as z}from"./index.34a9c747.js";import{Q as x}from"./QCard.f4c18fa6.js";import{Q as N}from"./QPage.68bd7ebf.js";import"./use-dark.cd2d25a8.js";const P={class:"container"},I={class:"row q-mb-lg-xl"},M={class:"col-12"},U=t("div",{class:"text-h4 text-weight-medium q-my-md"},"\u8CFC\u7269\u8ECA",-1),V={class:"col-12 col-lg-8 q-pr-none q-pr-lg-md"},F=t("div",{class:"text-h5 text-weight-medium"},"\u5546\u54C1\u8CC7\u8A0A",-1),G={class:"row"},T={class:"col-7 column q-ml-xs q-ml-lg-md"},$={class:"text-h6 over-2line"},A={class:"text-subtitle1 text-weight-medium"},D={class:"text-subtitle1 text-weight-medium over-1line"},E={class:"text-subtitle1 text-weight-medium"},H={class:"col column items-end"},J={class:"text-subtitle1 text-weight-medium"},K={class:"col-12 col-lg-4"},L={class:"row justify-between"},W=t("div",{class:"text-subtitle1 text-weight-medium"},"\u7E3D\u91D1\u984D",-1),X={class:"text-subtitle1 text-weight-regular"},Y={class:"row justify-between"},O=t("div",{class:"text-subtitle1 text-weight-medium"},"\u5546\u54C1\u91D1\u984D",-1),R={class:"text-subtitle1 text-weight-regular"},Z=t("div",{class:"row justify-between"},[t("div",{class:"text-subtitle1 text-weight-medium"},"\u904B\u8CBB"),t("div",{class:"text-subtitle1 text-weight-regular"},"80")],-1),tt={class:"row justify-between"},st=t("div",{class:"text-subtitle1 text-weight-medium"},"\u7E3D\u91D1\u984D",-1),et={class:"text-subtitle1 text-weight-regular"},mt={__name:"CartPage",setup(ot){const w=y(),i=q([]),v=p(()=>i.reduce((a,e)=>a+e.product.price*e.quantity,0)),m=p(()=>{const s=i.reduce((a,e)=>a+e.product.price*e.quantity,0);return s===0?0:s>=1500?s:s+80}),f=async s=>{await w.deleteCart({product:i[s].product._id,color:i[s].color,size:i[s].size}),_()},_=async()=>{try{const{data:s}=await Q.get("/users/cart");i.splice(0,i.length),i.push(...s.result)}catch(s){console.log(s),j.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}};return _(),(s,a)=>(d(),g(N,{class:"q-mb-xxxl"},{default:n(()=>[t("section",P,[t("div",I,[t("div",M,[o(r,{src:"https://i.imgur.com/UMGpuwS.jpg",class:"pointer object-top gt-xs",ratio:7/1}),o(r,{src:"https://i.imgur.com/UMGpuwS.jpg",class:"pointer object-top lt-sm",ratio:3/1}),U,o(l,{class:"q-my-sm"})]),t("div",V,[F,(d(!0),S(B,null,k(i,(e,b)=>(d(),g(x,{flat:"",class:"q-my-md",key:e._id},{default:n(()=>[t("div",G,[o(r,{class:"col-2 col-sm-3",src:e.product.image[0]},null,8,["src"]),t("div",T,[t("div",$,c(e.product.name),1),o(h),t("div",A,"\u5546\u54C1\u5C3A\u5BF8:"+c(e.size),1),t("div",D,"\u5546\u54C1\u984F\u8272:"+c(e.color),1),t("div",E,"\u6578\u91CF:"+c(e.quantity),1)]),t("div",H,[t("div",null,[o(C,{name:"fa-solid fa-x",size:"sm",class:"pointer",onClick:it=>f(b)},null,8,["onClick"])]),o(h),t("div",J,"NT$:"+c(e.product.price*e.quantity),1)])]),o(l,{class:"q-my-md"})]),_:2},1024))),128))]),t("div",K,[o(x,{flat:"",square:"",class:"column bg-grey-2 q-pa-md q-mb-md q-mt-sm"},{default:n(()=>[t("div",L,[W,t("div",X,c(u(m)),1)]),o(l,{class:"q-my-md"}),t("div",Y,[O,t("div",R,c(u(v)),1)]),Z,o(l,{class:"q-my-md"}),t("div",tt,[st,t("div",et,c(u(m)),1)])]),_:1}),o(z,{outline:"",color:"black",class:"full-width q-py-sm text-subtitle1 text-weight-medium",label:"\u5546\u54C1\u7D50\u5E33",to:"/place"})])])])]),_:1}))}};export{mt as default};
