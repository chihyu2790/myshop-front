import{Q as f}from"./QSpace.d3f204b9.js";import{F as h,I as x,K as g,L as b,M as v,N as e,au as d,a9 as r,R as t,O as s,S as m,Q as y,ae as q}from"./index.492ee51d.js";import{Q as w,a as Q}from"./QTable.4f1157f0.js";import{Q as k}from"./QPage.8117ed8d.js";import"./QSeparator.21ecd9d9.js";import"./use-dark.d31f5b16.js";import"./QList.71ecb80c.js";import"./rtl.4b414a6d.js";import"./use-prevent-scroll.890189cd.js";import"./use-key-composition.c76fd261.js";import"./format.2a3572e1.js";import"./uid.42677368.js";import"./use-form.160d3c21.js";import"./QChip.f7be4a19.js";import"./QItem.0aff7d08.js";import"./selection.790bdf15.js";import"./use-model-toggle.18d5681f.js";import"./QDialog.81cf8a30.js";import"./use-timeout.56b3988f.js";import"./QCheckbox.c5540ec3.js";import"./option-sizes.99366c99.js";import"./use-fullscreen.0371c278.js";const C={class:"container"},B={class:"row q-mt-xl"},N={class:"col-2"},S=t("div",{class:"text-h6"},"\u5F8C\u53F0\u7BA1\u7406",-1),A=t("div",{class:"text-subtitle1 q-my-lg"},"\u4F7F\u7528\u8005\u7BA1\u7406",-1),T=t("div",{class:"text-subtitle1 q-my-lg"},"\u5546\u54C1\u7BA1\u7406",-1),V=t("div",{class:"text-subtitle1 q-my-lg"},"\u5E97\u92EA\u7BA1\u7406",-1),U=t("div",{class:"text-subtitle1 q-my-lg"},"\u8A02\u55AE\u7BA1\u7406",-1),$=t("div",{class:"text-subtitle1 q-my-lg"},"\u6D3B\u52D5\u7BA1\u7406",-1),E={class:"col-10"},F={class:"flex items-center text-center q-mb-lg"},I=t("div",{class:"text-h4 text-weight-medium"},"\u4F7F\u7528\u8005\u7BA1\u7406",-1),K=t("div",{class:"text-body1 q-mb-md"},"\u7BA1\u7406\u4F7F\u7528\u8005\u9801\u9762",-1),L={class:"column"},M=q("\u522A\u9664\u4F7F\u7528\u8005"),_t={__name:"UserAdmin",setup(O){const n=h([]),_=x(),{logout:c}=_,u=[{name:"account",align:"left",label:"account",field:"account"},{name:"_id",align:"left",label:"id",field:"_id"},{name:"name",align:"left",label:"name",field:"name"},{name:"email",align:"left",label:"email",field:"email"},{name:"edit",label:"\u5546\u54C1\u64CD\u4F5C",align:"left"}],p=async o=>{try{await d.delete("/users/"+o),await r.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"})}catch(i){r.fire({icon:"error",title:"\u5931\u6557",text:i.isAxiosError&&i.response.data?i.response.data.message:"\u767C\u751F\u932F\u8AA4"})}};return(async()=>{try{const{data:o}=await d.get("/users/all");n.push(...o.result)}catch{r.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(o,i)=>{const a=g("router-link");return b(),v(k,null,{default:e(()=>[t("section",C,[t("div",B,[t("div",N,[S,s(a,{to:"/admin/user"},{default:e(()=>[A]),_:1}),s(a,{to:"/admin/product"},{default:e(()=>[T]),_:1}),s(a,{to:"/admin/store"},{default:e(()=>[V]),_:1}),s(a,{to:"/admin/order"},{default:e(()=>[U]),_:1}),$,t("div",{class:"text-subtitle1 q-my-lg",onClick:i[0]||(i[0]=(...l)=>m(c)&&m(c)(...l))},"\u767B\u51FA")]),t("div",E,[t("div",F,[I,s(f)]),K,s(Q,{grid:o.$q.screen.xs,flat:"",bordered:"",rows:n,columns:u,"row-key":"name"},{"body-cell-edit":e(l=>[s(w,{edit:l},{default:e(()=>[t("div",L,[s(y,{class:"q-px-sm",onClick:R=>p(l.row._id),outline:""},{default:e(()=>[M]),_:2},1032,["onClick"])])]),_:2},1032,["edit"])]),_:1},8,["grid","rows"])])])])]),_:1})}}};export{_t as default};
