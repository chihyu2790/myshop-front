import{b as g,a as S}from"./QTabs.b31c03d1.js";import{Q as B}from"./QSpace.454c81e3.js";import{N as C,r as F,F as x,P as N,H as u,I as b,J as r,ay as q,aj as _,S as e,K as o,V as f,U as y,M as m,Q as h,aB as D}from"./index.53143171.js";import{Q as w}from"./QCard.2d392d70.js";import{Q as c}from"./QInput.1f5ba66c.js";import{Q as V}from"./QRadio.6f3ddbc7.js";import{Q as E}from"./QForm.19bd95a2.js";import{Q as P}from"./QPage.e8bca856.js";import"./use-timeout.ca2312a0.js";import"./rtl.4b414a6d.js";import"./use-dark.efb5c460.js";import"./use-key-composition.58b0f758.js";import"./format.2a3572e1.js";import"./uid.42677368.js";import"./focus-manager.d6507951.js";import"./use-form.5cf556c4.js";import"./option-sizes.972ec55c.js";const $={class:"row lt-lg justify-center border-black bg-grey-2 q-py-xs"},j={class:"container"},A={class:"row q-mt-none q-mt-lg-xl"},I={class:"col-2 gt-md"},M=e("div",{class:"text-h6"},"\u6211\u7684\u5E33\u6236",-1),R=e("div",{class:"text-subtitle1 q-my-lg"},"\u500B\u4EBA\u8CC7\u6599",-1),T=e("div",{class:"text-subtitle1 q-my-lg"},"\u8A02\u55AE\u67E5\u8A62",-1),H={class:"col-12 col-lg-10"},J={class:"flex items-center text-center q-mb-lg q-mt-lg q-mt-lg-none"},K={key:0,class:"text-h4 text-weight-medium"},L={key:1,class:"text-h4 text-weight-medium"},z=e("div",{class:"text-body1 q-mb-md"},"\u500B\u4EBA\u8CC7\u8A0A\u9801\u9762",-1),G=e("div",{class:"text-subtitle1 text-weight-bold"},"\u540D\u5B57:",-1),O={class:"text-subtitle1 q-mb-md"},W=e("div",{class:"text-subtitle1 text-weight-bold"},"\u6027\u5225:",-1),X={class:"text-subtitle1 q-mb-md"},Y=e("div",{class:"text-subtitle1 text-weight-bold"},"\u751F\u65E5:",-1),Z={class:"text-subtitle1 q-mb-md"},ee=e("div",{class:"text-subtitle1 text-weight-bold"},"\u5730\u5740:",-1),te={class:"text-subtitle1 q-mb-md"},se=e("div",{class:"text-subtitle1 text-weight-bold"},"\u96FB\u8A71:",-1),le={class:"text-subtitle1 q-mb-md"},oe=e("div",{class:"text-subtitle1 text-weight-bold"},"\u96FB\u5B50\u90F5\u4EF6\u4FE1\u7BB1:",-1),ae={class:"text-subtitle1 q-mb-md"},ie={class:"q-my-xxl"},de=e("div",{class:"text-subtitle1 text-weight-medium"},"\u540D\u5B57:",-1),re=e("div",{class:"text-subtitle1 text-weight-medium"},"\u6027\u5225:",-1),me={class:"q-my-md"},ne=e("div",{class:"text-subtitle1 text-weight-medium"},"\u751F\u65E5:",-1),ue=e("div",{class:"text-subtitle1 text-weight-medium"},"\u5730\u5740:",-1),ce=e("div",{class:"text-subtitle1 text-weight-medium"},"\u624B\u6A5F:",-1),xe=e("div",{class:"text-subtitle1 text-weight-medium"},"\u96FB\u5B50\u90F5\u4EF6\u4FE1\u7BB1:",-1),be={class:"q-my-xxl"},De={__name:"UserPage",setup(_e){C();const d=F(!0),k=()=>{d.value?d.value=!1:d.value=!0},l=x({name:"",sex:2,birthday:"",address:"",phone:"",email:""}),t=x({name:"",sex:2,birthday:"",address:"",phone:"",email:""}),n=x({required(i){return!!i||"\u5FC5\u586B"}}),p=async()=>{try{const{data:i}=await q.get("/users");l.email=i.result.email,l.name=i.result.name,l.sex=i.result.sex,l.birthday=i.result.birthday,l.address=i.result.address,l.phone=i.result.phone}catch{_.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}},Q=()=>{d.value=!1,t.email=l.email,t.name=l.name,t.sex=l.sex,t.birthday=l.birthday,t.address=l.address,t.phone=l.phone},U=async()=>{try{const{data:i}=await q.patch("/users",t);p(),_.fire({icon:"success",title:"\u6210\u529F",text:"\u7DE8\u8F2F\u6210\u529F"}),d.value=!0}catch(i){_.fire({icon:"error",title:"\u5931\u6557",text:i.isAxiosError?i.response.data.message:i.message})}};return p(),(i,s)=>{const v=N("router-link");return u(),b(P,{class:"q-mb-xxxl"},{default:r(()=>[e("div",$,[o(S,{"indicator-color":"red",shrink:""},{default:r(()=>[o(g,{exact:"",name:"/user",to:"/user",label:"\u500B\u4EBA\u8CC7\u6599"}),o(g,{exact:"",name:"/order",to:"/order",label:"\u8A02\u55AE\u67E5\u8A62"})]),_:1})]),e("section",j,[e("div",A,[e("div",I,[M,o(v,{to:"/user"},{default:r(()=>[R]),_:1}),o(v,{to:"/order"},{default:r(()=>[T]),_:1})]),e("div",H,[e("div",J,[d.value?(u(),f("div",K,"\u500B\u4EBA\u8CC7\u6599")):y("",!0),d.value?y("",!0):(u(),f("div",L,"\u4FEE\u6539\u8CC7\u6599")),o(B)]),z,d.value?(u(),b(w,{key:0,flat:"",bordered:"",class:"q-pa-md"},{default:r(()=>[G,e("div",O,m(l.name),1),W,e("div",X,m(l.sex),1),Y,e("div",Z,m(new Date(l.birthday).toLocaleDateString()),1),ee,e("div",te,m(l.address),1),se,e("div",le,m(l.phone),1),oe,e("div",ae,m(l.email),1),e("div",ie,[o(h,{label:"\u4FEE\u6539\u4F7F\u7528\u8005\u8CC7\u6599",class:"q-py-sm q-px-lg text-subtitle2",outline:"",color:"black",onClick:s[0]||(s[0]=a=>Q())})])]),_:1})):(u(),b(w,{key:1,flat:"",bordered:"",class:"col-3 row q-pa-md"},{default:r(()=>[o(E,{onSubmit:s[9]||(s[9]=D(a=>U(),["prevent"]))},{default:r(()=>[de,o(c,{modelValue:t.name,"onUpdate:modelValue":s[1]||(s[1]=a=>t.name=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),re,e("div",me,[o(V,{class:"text-weight-medium",modelValue:t.sex,"onUpdate:modelValue":s[2]||(s[2]=a=>t.sex=a),val:"1",label:"\u7537",color:"black"},null,8,["modelValue"]),o(V,{class:"text-weight-medium",modelValue:t.sex,"onUpdate:modelValue":s[3]||(s[3]=a=>t.sex=a),val:"0",label:"\u5973",color:"black"},null,8,["modelValue"])]),ne,o(c,{modelValue:t.birthday,"onUpdate:modelValue":s[4]||(s[4]=a=>t.birthday=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),ue,o(c,{modelValue:t.address,"onUpdate:modelValue":s[5]||(s[5]=a=>t.address=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),ce,o(c,{modelValue:t.phone,"onUpdate:modelValue":s[6]||(s[6]=a=>t.phone=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),xe,o(c,{modelValue:t.email,"onUpdate:modelValue":s[7]||(s[7]=a=>t.email=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),e("div",be,[o(h,{outline:"",class:"q-py-sm q-px-xxl text-subtitle2 q-mr-md",color:"black",label:"\u53D6\u6D88",onClick:s[8]||(s[8]=a=>k())}),o(h,{type:"submit",unelevated:"",class:"q-py-sm q-px-xxl text-subtitle2",color:"black",label:"\u78BA\u5B9A"})])]),_:1})]),_:1}))])])])]),_:1})}}};export{De as default};
