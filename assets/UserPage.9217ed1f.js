import{b as q,a as S}from"./QTabs.068cc4b6.js";import{Q as B}from"./QSpace.f180918e.js";import{N as C,r as F,F as b,P as N,H as r,I as _,J as m,ay as y,aj as h,S as e,K as o,V as x,U as f,M as u,Q as p,aB as D}from"./index.b69f5e30.js";import{Q as k}from"./QCard.17619e95.js";import{Q as c}from"./QInput.f1ef5e2e.js";import{Q as w}from"./QRadio.b8d67843.js";import{Q as E}from"./QForm.cc69dc74.js";import{Q as P}from"./QPage.5ead44bd.js";import"./use-timeout.ba6b5c7a.js";import"./rtl.4b414a6d.js";import"./use-dark.91c2bc12.js";import"./use-key-composition.9e51db7f.js";import"./format.2a3572e1.js";import"./uid.42677368.js";import"./focus-manager.d6507951.js";import"./use-form.e6e0fa2b.js";import"./option-sizes.3ba05eec.js";const $={class:"row lt-lg justify-center border-black bg-grey-2 q-py-xs"},j={class:"container"},A={class:"row q-mt-none q-mt-lg-xl"},I={class:"col-2 gt-md"},M=e("div",{class:"text-h6"},"\u6211\u7684\u5E33\u6236",-1),R=e("div",{class:"text-subtitle1 q-my-lg"},"\u500B\u4EBA\u8CC7\u6599",-1),T=e("div",{class:"text-subtitle1 q-my-lg"},"\u8A02\u55AE\u67E5\u8A62",-1),H={class:"col-12 col-lg-10"},J={class:"flex items-center text-center q-mb-lg q-mt-lg q-mt-lg-none"},K={key:0,class:"text-h4 text-weight-medium"},L={key:1,class:"text-h4 text-weight-medium"},z=e("div",{class:"text-body1 q-mb-md"},"\u500B\u4EBA\u8CC7\u8A0A\u9801\u9762",-1),G=e("div",{class:"text-subtitle1 text-weight-bold"},"\u540D\u5B57:",-1),O={class:"text-subtitle1 q-mb-md"},W=e("div",{class:"text-subtitle1 text-weight-bold"},"\u6027\u5225:",-1),X={key:0,class:"text-subtitle1 q-mb-md"},Y={key:1,class:"text-subtitle1 q-mb-md"},Z=e("div",{class:"text-subtitle1 text-weight-bold"},"\u751F\u65E5:",-1),ee={class:"text-subtitle1 q-mb-md"},te=e("div",{class:"text-subtitle1 text-weight-bold"},"\u5730\u5740:",-1),se={class:"text-subtitle1 q-mb-md"},le=e("div",{class:"text-subtitle1 text-weight-bold"},"\u96FB\u8A71:",-1),oe={class:"text-subtitle1 q-mb-md"},ae=e("div",{class:"text-subtitle1 text-weight-bold"},"\u96FB\u5B50\u90F5\u4EF6\u4FE1\u7BB1:",-1),ie={class:"text-subtitle1 q-mb-md"},de={class:"q-my-xxl"},re=e("div",{class:"text-subtitle1 text-weight-medium"},"\u540D\u5B57:",-1),me=e("div",{class:"text-subtitle1 text-weight-medium"},"\u6027\u5225:",-1),ne={class:"q-my-md"},ue=e("div",{class:"text-subtitle1 text-weight-medium"},"\u751F\u65E5:",-1),ce=e("div",{class:"text-subtitle1 text-weight-medium"},"\u5730\u5740:",-1),xe=e("div",{class:"text-subtitle1 text-weight-medium"},"\u624B\u6A5F:",-1),be=e("div",{class:"text-subtitle1 text-weight-medium"},"\u96FB\u5B50\u90F5\u4EF6\u4FE1\u7BB1:",-1),_e={class:"q-my-xxl"},Ee={__name:"UserPage",setup(he){C();const d=F(!0),V=()=>{d.value?d.value=!1:d.value=!0},l=b({name:"",sex:2,birthday:"",address:"",phone:"",email:""}),t=b({name:"",sex:2,birthday:"",address:"",phone:"",email:""}),n=b({required(i){return!!i||"\u5FC5\u586B"}}),v=async()=>{try{const{data:i}=await y.get("/users");l.email=i.result.email,l.name=i.result.name,l.sex=i.result.sex,l.birthday=i.result.birthday,l.address=i.result.address,l.phone=i.result.phone}catch{h.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}},Q=()=>{d.value=!1,t.email=l.email,t.name=l.name,t.sex=l.sex,t.birthday=l.birthday,t.address=l.address,t.phone=l.phone},U=async()=>{try{const{data:i}=await y.patch("/users",t);v(),h.fire({icon:"success",title:"\u6210\u529F",text:"\u7DE8\u8F2F\u6210\u529F"}),d.value=!0}catch(i){h.fire({icon:"error",title:"\u5931\u6557",text:i.isAxiosError?i.response.data.message:i.message})}};return v(),(i,s)=>{const g=N("router-link");return r(),_(P,{class:"q-mb-xxxl"},{default:m(()=>[e("div",$,[o(S,{"indicator-color":"red",shrink:""},{default:m(()=>[o(q,{exact:"",name:"/user",to:"/user",label:"\u500B\u4EBA\u8CC7\u6599"}),o(q,{exact:"",name:"/order",to:"/order",label:"\u8A02\u55AE\u67E5\u8A62"})]),_:1})]),e("section",j,[e("div",A,[e("div",I,[M,o(g,{to:"/user"},{default:m(()=>[R]),_:1}),o(g,{to:"/order"},{default:m(()=>[T]),_:1})]),e("div",H,[e("div",J,[d.value?(r(),x("div",K,"\u500B\u4EBA\u8CC7\u6599")):f("",!0),d.value?f("",!0):(r(),x("div",L,"\u4FEE\u6539\u8CC7\u6599")),o(B)]),z,d.value?(r(),_(k,{key:0,flat:"",bordered:"",class:"q-pa-md"},{default:m(()=>[G,e("div",O,u(l.name),1),W,l.sex==0?(r(),x("div",X,"\u5973")):(r(),x("div",Y,"\u7537")),Z,e("div",ee,u(new Date(l.birthday).toLocaleDateString()),1),te,e("div",se,u(l.address),1),le,e("div",oe,u(l.phone),1),ae,e("div",ie,u(l.email),1),e("div",de,[o(p,{label:"\u4FEE\u6539\u4F7F\u7528\u8005\u8CC7\u6599",class:"q-py-sm q-px-lg text-subtitle2",outline:"",color:"black",onClick:s[0]||(s[0]=a=>Q())})])]),_:1})):(r(),_(k,{key:1,flat:"",bordered:"",class:"col-3 row q-pa-md"},{default:m(()=>[o(E,{onSubmit:s[9]||(s[9]=D(a=>U(),["prevent"]))},{default:m(()=>[re,o(c,{modelValue:t.name,"onUpdate:modelValue":s[1]||(s[1]=a=>t.name=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),me,e("div",ne,[o(w,{class:"text-weight-medium",modelValue:t.sex,"onUpdate:modelValue":s[2]||(s[2]=a=>t.sex=a),val:"1",label:"\u7537",color:"black"},null,8,["modelValue"]),o(w,{class:"text-weight-medium",modelValue:t.sex,"onUpdate:modelValue":s[3]||(s[3]=a=>t.sex=a),val:"0",label:"\u5973",color:"black"},null,8,["modelValue"])]),ue,o(c,{modelValue:t.birthday,"onUpdate:modelValue":s[4]||(s[4]=a=>t.birthday=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),ce,o(c,{modelValue:t.address,"onUpdate:modelValue":s[5]||(s[5]=a=>t.address=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),xe,o(c,{modelValue:t.phone,"onUpdate:modelValue":s[6]||(s[6]=a=>t.phone=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),be,o(c,{modelValue:t.email,"onUpdate:modelValue":s[7]||(s[7]=a=>t.email=a),rules:[n.required],color:"black"},null,8,["modelValue","rules"]),e("div",_e,[o(p,{outline:"",class:"q-py-sm q-px-xxl text-subtitle2 q-mr-md",color:"black",label:"\u53D6\u6D88",onClick:s[8]||(s[8]=a=>V())}),o(p,{type:"submit",unelevated:"",class:"q-py-sm q-px-xxl text-subtitle2",color:"black",label:"\u78BA\u5B9A"})])]),_:1})]),_:1}))])])])]),_:1})}}};export{Ee as default};
