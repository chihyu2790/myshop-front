import{Q as _}from"./QImg.de1747d4.js";import{Q as l}from"./QSeparator.bc0bc5c0.js";import{Q as h}from"./QSpace.454c81e3.js";import{N as y,F as q,a as p,H as r,I as x,J as d,ay as Q,aj as j,S as t,K as o,V as k,W as C,M as c,Y as S,X as B,T as n,Q as z}from"./index.53143171.js";import{Q as g}from"./QCard.2d392d70.js";import{Q as F}from"./QPage.e8bca856.js";import"./use-dark.efb5c460.js";const N={class:"container"},P={class:"row q-mb-lg-xl"},I={class:"col-12"},V=t("div",{class:"text-h4 text-weight-medium q-my-md"},"\u8CFC\u7269\u8ECA",-1),T={class:"col-12 col-lg-8 q-pr-none q-pr-lg-md"},$=t("div",{class:"text-h5 text-weight-medium"},"\u5546\u54C1\u8CC7\u8A0A",-1),A={class:"row"},D={class:"col-7 column q-ml-xs q-ml-lg-md"},E={class:"text-h6 over-2line"},G={class:"text-subtitle1 text-weight-medium"},H={class:"text-subtitle1 text-weight-medium over-1line"},J={class:"text-subtitle1 text-weight-medium"},K={class:"col column items-end"},L={class:"text-subtitle1 text-weight-medium"},M={class:"col-12 col-lg-4"},U={class:"row justify-between"},W=t("div",{class:"text-subtitle1 text-weight-medium"},"\u7E3D\u91D1\u984D",-1),X={class:"text-subtitle1 text-weight-regular"},Y={class:"row justify-between"},O=t("div",{class:"text-subtitle1 text-weight-medium"},"\u5546\u54C1\u91D1\u984D",-1),R={class:"text-subtitle1 text-weight-regular"},Z=t("div",{class:"row justify-between"},[t("div",{class:"text-subtitle1 text-weight-medium"},"\u904B\u8CBB"),t("div",{class:"text-subtitle1 text-weight-regular"},"80")],-1),tt={class:"row justify-between"},st=t("div",{class:"text-subtitle1 text-weight-medium"},"\u7E3D\u91D1\u984D",-1),et={class:"text-subtitle1 text-weight-regular"},mt={__name:"CartPage",setup(ot){const v=y(),i=q([]),w=p(()=>i.reduce((a,e)=>a+e.product.price*e.quantity,0)),u=p(()=>{const s=i.reduce((a,e)=>a+e.product.price*e.quantity,0);return s===0?0:s>=1500?s:s+80}),f=async s=>{await v.deleteCart({product:i[s].product._id,color:i[s].color,size:i[s].size}),m()},m=async()=>{try{const{data:s}=await Q.get("/users/cart");i.splice(0,i.length),i.push(...s.result)}catch(s){console.log(s),j.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}};return m(),(s,a)=>(r(),x(F,{class:"q-mb-xxxl"},{default:d(()=>[t("section",N,[t("div",P,[t("div",I,[o(_,{src:"https://i.imgur.com/hFiccGF.jpg",class:"pointer object-top",ratio:7/1}),V,o(l,{class:"q-my-sm"})]),t("div",T,[$,(r(!0),k(B,null,C(i,(e,b)=>(r(),x(g,{flat:"",class:"q-my-md",key:e._id},{default:d(()=>[t("div",A,[o(_,{class:"col-2 col-sm-3",src:e.product.image[0]},null,8,["src"]),t("div",D,[t("div",E,c(e.product.name),1),o(h),t("div",G,"\u5546\u54C1\u5C3A\u5BF8:"+c(e.size),1),t("div",H,"\u5546\u54C1\u984F\u8272:"+c(e.color),1),t("div",J,"\u6578\u91CF:"+c(e.quantity),1)]),t("div",K,[t("div",null,[o(S,{name:"fa-solid fa-x",size:"sm",class:"pointer",onClick:it=>f(b)},null,8,["onClick"])]),o(h),t("div",L,"NT$:"+c(e.product.price*e.quantity),1)])]),o(l,{class:"q-my-md"})]),_:2},1024))),128))]),t("div",M,[o(g,{flat:"",square:"",class:"column bg-grey-2 q-pa-md q-mb-md q-mt-sm"},{default:d(()=>[t("div",U,[W,t("div",X,c(n(u)),1)]),o(l,{class:"q-my-md"}),t("div",Y,[O,t("div",R,c(n(w)),1)]),Z,o(l,{class:"q-my-md"}),t("div",tt,[st,t("div",et,c(n(u)),1)])]),_:1}),o(z,{outline:"",color:"black",class:"full-width q-py-sm text-subtitle1 text-weight-medium",label:"\u5546\u54C1\u7D50\u5E33",to:"/place"})])])])]),_:1}))}};export{mt as default};
