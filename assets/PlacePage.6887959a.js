import{Q as r}from"./QSeparator.3268e674.js";import{Q as w}from"./QRadio.1d10f88e.js";import{Q as n}from"./QInput.67f12a78.js";import{Q as S}from"./QImg.087c6cf6.js";import{Q as v}from"./QSpace.c6742b70.js";import{N as U,F as _,a as b,H as h,I as q,J as c,ay as z,aj as C,S as t,K as l,V as B,W as P,M as d,Y as j,X as I,T as y,Q as N}from"./index.9ed884d3.js";import{Q as p}from"./QCard.5cf63e57.js";import{Q as F}from"./QForm.12d2e754.js";import{Q as T}from"./QPage.baadc933.js";import"./use-dark.66b5e4fd.js";import"./option-sizes.9d56d2a4.js";import"./use-form.678f519f.js";import"./use-key-composition.f03a2d25.js";import"./format.2a3572e1.js";import"./uid.42677368.js";import"./focus-manager.d6507951.js";const $={class:"container"},A={class:"row"},D={class:"col"},E=t("div",{class:"text-h4 text-weight-medium"},"\u8A02\u55AE\u8CC7\u8A0A",-1),H=t("div",{class:"text-h5"},"\u53D6\u8CA8\u65B9\u5F0F",-1),J={class:"q-my-xl column"},K=t("div",{class:"text-h5"},"\u53D6\u8CA8\u4EBA\u8CC7\u8A0A",-1),L={style:{"max-width":"600px"},class:"q-my-xl"},M=t("div",{class:"text-subtitle1 text-weight-medium"},"\u53D6\u8CA8\u4EBA\u540D\u5B57:",-1),R=t("div",{class:"text-subtitle1 text-weight-medium"},"\u53D6\u8CA8\u4EBA\u96FB\u8A71:",-1),W=t("div",{class:"text-subtitle1 text-weight-medium"},"\u53D6\u8CA8\u4EBA\u5730\u5740:",-1),X=t("div",{class:"text-subtitle1 text-weight-medium"},"\u53D6\u8CA8\u4EBAe-mail:",-1),Y=t("div",{class:"text-h5"},"\u5546\u54C1\u8CC7\u8A0A",-1),G={class:"row"},O={class:"col-7 column q-ml-xs q-ml-lg-md"},Z={class:"text-h6"},tt={class:"text-subtitle1 text-weight-medium"},et={class:"text-subtitle1 text-weight-medium"},st={class:"text-subtitle1 text-weight-medium"},lt={class:"col column items-end"},ot={class:"text-subtitle1 text-weight-medium"},at={class:"col-12 col-lg-2 q-mt-lg-xl"},it={class:"row justify-between"},dt=t("div",{class:"text-subtitle1 text-weight-medium"},"\u5546\u54C1\u91D1\u984D",-1),rt={class:"text-subtitle1 text-weight-regular"},ct=t("div",{class:"row justify-between"},[t("div",{class:"text-subtitle1 text-weight-medium"},"\u904B\u8CBB"),t("div",{class:"text-subtitle1 text-weight-regular"},"80")],-1),ut={class:"row justify-between"},mt=t("div",{class:"text-subtitle1 text-weight-medium"},"\u7E3D\u91D1\u984D",-1),nt={class:"text-subtitle1 text-weight-regular"},_t={class:"row reverse q-mt-xl"},ht={class:"col-12 col-sm-6 col-lg-3"},jt={__name:"PlacePage",setup(pt){const g=U(),i=_([]),a=_({getway:"",getname:"",getphone:"",getemail:"",getaddress:""}),u=_({required(s){return!!s||"\u5FC5\u586B"},price(s){return s>-1||"\u5FC5\u9808\u5927\u65BC\u7B49\u65BC 0"},size(s){var o,e,m;return!s||!s.length||((e=(o=s[0])==null?void 0:o.type)==null?void 0:e.includes("image"))&&((m=s[0])==null?void 0:m.size)<1024*1024||"\u6A94\u6848\u683C\u5F0F\u4E0D\u7B26"}}),f=b(()=>i.reduce((o,e)=>o+e.product.price*e.quantity,0)),V=b(()=>{const s=i.reduce((o,e)=>o+e.product.price*e.quantity,0);return s===0?0:s>=1500?s:s+80}),Q=async s=>{await g.deleteCart({product:i[s].product._id,color:i[s].color,size:i[s].size}),x()},k=()=>{g.checkout(a)},x=async()=>{try{const{data:s}=await z.get("/users/cart");i.splice(0,i.length),i.push(...s.result)}catch{C.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}};return x(),(s,o)=>(h(),q(T,{class:"q-mb-xxxl"},{default:c(()=>[t("section",$,[t("div",A,[t("div",D,[l(F,{onSubmit:k},{default:c(()=>[l(p,{flat:"",class:"q-mt-sm q-mt-lg-xl"},{default:c(()=>[E,l(r,{class:"q-my-md"}),H,l(r,{class:"q-my-md"}),t("div",J,[l(w,{modelValue:a.getway,"onUpdate:modelValue":o[0]||(o[0]=e=>a.getway=e),val:0,label:"7-11\u8CA8\u5230\u5E9C\u6B3E",color:"black"},null,8,["modelValue"]),l(w,{modelValue:a.getway,"onUpdate:modelValue":o[1]||(o[1]=e=>a.getway=e),val:1,label:"\u5B85\u914D\u5230\u5E9C",color:"black"},null,8,["modelValue"])]),K,l(r,{class:"q-my-md"}),t("div",L,[M,l(n,{class:"q-mb-md",modelValue:a.getname,"onUpdate:modelValue":o[2]||(o[2]=e=>a.getname=e),rules:[u.required],color:"black"},null,8,["modelValue","rules"]),R,l(n,{class:"q-mb-md",modelValue:a.getphone,"onUpdate:modelValue":o[3]||(o[3]=e=>a.getphone=e),rules:[u.required],color:"black"},null,8,["modelValue","rules"]),W,l(n,{class:"q-mb-md",modelValue:a.getaddress,"onUpdate:modelValue":o[4]||(o[4]=e=>a.getaddress=e),rules:[u.required],color:"black"},null,8,["modelValue","rules"]),X,l(n,{class:"q-mb-md",modelValue:a.getemail,"onUpdate:modelValue":o[5]||(o[5]=e=>a.getemail=e),rules:[u.required],color:"black"},null,8,["modelValue","rules"])]),Y,l(r,{class:"q-my-md"}),(h(!0),B(I,null,P(i,(e,m)=>(h(),q(p,{class:"my-card",flat:"",key:e._id},{default:c(()=>[t("div",G,[l(S,{class:"col-2",src:e.product.image[0]},null,8,["src"]),t("div",O,[t("div",Z,d(e.product.name),1),l(v),t("div",tt,"\u5546\u54C1\u5C3A\u5BF8:"+d(e.size),1),t("div",et,"\u5546\u54C1\u984F\u8272:"+d(e.color),1),t("div",st,"\u6578\u91CF:"+d(e.quantity),1)]),t("div",lt,[l(j,{name:"fa-solid fa-x",size:"sm",class:"pointer",onClick:gt=>Q(m)},null,8,["onClick"]),l(v),t("div",ot,"NT$:"+d(e.product.price*e.quantity),1)])]),l(r,{class:"q-my-md"})]),_:2},1024))),128)),l(p,{class:"row reverse my-card q-mt-sm q-mt-lg-xl"},{default:c(()=>[t("div",at,[t("div",it,[dt,t("div",rt,d(y(f)),1)]),ct,t("div",ut,[mt,t("div",nt,d(y(V)),1)])])]),_:1}),l(r,{class:"q-my-md"}),t("div",_t,[t("div",ht,[l(N,{unelevated:"",square:"",color:"red",class:"q-py-sm full-width text-subtitle1 text-weight-medium",label:"\u5546\u54C1\u7D50\u5E33",type:"submit"})])])]),_:1})]),_:1})])])])]),_:1}))}};export{jt as default};
